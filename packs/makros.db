{"name":"Place Lightsource","type":"script","author":"PyyK63SdD4CESHCi","img":"icons/sundries/lights/lantern-iron-lit-yellow.webp","scope":"global","command":"let mousePosition = canvas.app.renderer.plugins.interaction.mouse.getLocalPosition(canvas.app.stage);\nlet lightColor = \"#f98026\"\n\nnew Dialog({\n    title: \"Lichtquelle auswählen\",\n    buttons: {\n        //von hier kopieren\n        candle: {\n            label: \"Candle\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 10,\n                        bright: 5,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.2,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 }\n                    }\n                }\n                ])\n            }\n        },\n        //bis hier kopieren\n        torch: {\n            label: \"Torch\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 40,\n                        bright: 20,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.4,\n                        animation: { type: \"torch\", \"speed\": 2, \"intensity\": 2 }\n                    }\n                }\n                ])\n            }\n        },\n        lamp: {\n            label: \"Lamp\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 45,\n                        bright: 15,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.3,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 }\n                    }\n                }\n                ])\n            }\n        },\n        hoodedLantern: {\n            label: \"Hooded\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 5,\n                        bright: 0,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.2,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 }\n                    }\n                }\n                ])\n            }\n        },\n        lantern: {\n            label: \"Lantern\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 60,\n                        bright: 30,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.4,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 }\n                    }\n                }\n                ])\n            }\n        },\n        bullseyeLantern: {\n            label: \"Bullseye\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 120,\n                        bright: 60,\n                        angle: 60,\n                        color: lightColor,\n                        alpha: 0.4,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 }\n                    }\n                }\n                ])\n            }\n        },\n    }\n}).render(true);","folder":null,"sort":0,"permission":{"default":0,"PyyK63SdD4CESHCi":3},"flags":{"core":{"sourceId":"Macro.grpaecDi7bgxaXv1"}},"_id":"TrUX8A5De2Q3LUtR"}
{"name":"HandleLightForSelectedTokens","type":"script","author":"PyyK63SdD4CESHCi","img":"icons/sundries/lights/candle-lit-yellow.webp","scope":"global","command":"let tokens = canvas.tokens.controlled\nfor (let token of tokens) {\n    LightSourceHandler.startInchryptianScript(token)\n}","folder":null,"sort":0,"permission":{"default":0,"PyyK63SdD4CESHCi":3},"flags":{"core":{"sourceId":"Macro.CGL8HV2l4snD7F2n"}},"_id":"nsBCEEgqqGKWVHj0"}
{"$$deleted":true,"_id":"TrUX8A5De2Q3LUtR"}
{"name":"Place Lightsource","type":"script","author":"PyyK63SdD4CESHCi","img":"icons/sundries/lights/lantern-iron-lit-yellow.webp","scope":"global","command":"let mousePosition = canvas.app.renderer.plugins.interaction.mouse.getLocalPosition(canvas.app.stage);\nlet lightColor = \"#f98026\"\n\nnew Dialog({\n    title: \"Lichtquelle auswählen\",\n    buttons: {\n        //von hier kopieren\n        candle: {\n            label: \"Candle\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 10,\n                        bright: 5,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.15,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 },\ndarkness: {min: 0.5}\n                    }\n                }\n                ])\n            }\n        },\n        //bis hier kopieren\n        torch: {\n            label: \"Torch\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 40,\n                        bright: 20,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.3,\n                        animation: { type: \"torch\", \"speed\": 2, \"intensity\": 2 },\ndarkness: {min: 0.5}\n                    }\n                }\n                ])\n            }\n        },\n        lamp: {\n            label: \"Lamp\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 45,\n                        bright: 15,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.25,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 },\ndarkness: {min: 0.5}\n                    }\n                }\n                ])\n            }\n        },\n        hoodedLantern: {\n            label: \"Hooded\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 5,\n                        bright: 0,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.2,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 },\ndarkness: {min: 0.5}\n                    }\n                }\n                ])\n            }\n        },\n        lantern: {\n            label: \"Lantern\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 60,\n                        bright: 30,\n                        angle: 360,\n                        color: lightColor,\n                        alpha: 0.3,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 },\ndarkness: {min: 0.5}\n                    }\n                }\n                ])\n            }\n        },\n        bullseyeLantern: {\n            label: \"Bullseye\",\n            callback: () => {\n                canvas.scene.createEmbeddedDocuments(\"AmbientLight\", [{\n                    t: \"l\", // l for local. The other option is g for global.\n                    x: mousePosition.x,\n                    y: mousePosition.y,\n                    rotation: 0,\n                    config: {\n                        dim: 120,\n                        bright: 60,\n                        angle: 60,\n                        color: lightColor,\n                        alpha: 0.3,\n                        animation: { type: \"torch\", \"speed\": 1, \"intensity\": 1 },\ndarkness: {min: 0.5}\n                    }\n                }\n                ])\n            }\n        },\n    }\n}).render(true);","folder":null,"sort":0,"permission":{"default":0,"PyyK63SdD4CESHCi":3},"flags":{"core":{"sourceId":"Macro.grpaecDi7bgxaXv1"}},"_id":"NbOp1LyyELDIZ8ng"}
